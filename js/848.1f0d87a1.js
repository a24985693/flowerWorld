"use strict";(self["webpackChunkfinal_hw"]=self["webpackChunkfinal_hw"]||[]).push([[848],{5747:function(t,e,s){s(4114);var i=s(4445),a=s(1250),c=s(9325),n=s(9040);const l=(0,n.A)();e.A=(0,i.nY)("article",{state:()=>({pagination:{},article:{},articles:{},isLoading:!1}),actions:{getArticle(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/cms67/article/${t}`;a.A.get(e).then((t=>{this.isLoading=!1,this.article=t.data.article})).catch((()=>{this.isLoading=!1,l.pushMessage({style:"danger",title:"文章取得失敗"})}))},getArticles(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/cms67/articles?page=${t}`;a.A.get(e).then((t=>{this.articles=t.data.articles,this.pagination=t.data.pagination,this.articles.forEach(((t,e)=>{this.getContent(t,e)}))})).catch((()=>{this.isLoading=!1,l.pushMessage({style:"danger",title:"文章取得失敗"})}))},getContent(t,e){const s=`https://vue3-course-api.hexschool.io/api/cms67/article/${t.id}`;a.A.get(s).then((t=>{this.isLoading=!1,this.articles[e].content=t.data.article.content})).catch((()=>{this.isLoading=!1,l.pushMessage({style:"danger",title:"文章取得失敗"})}))},gotoArticle(t){c.A.push(`/article/${t}`)}}})},9040:function(t,e,s){s(4114);var i=s(4445);e.A=(0,i.nY)("toast",{state:()=>({messages:[]}),actions:{pushMessage(t){const{style:e,title:s,content:i}=t;this.messages.push({style:e,title:s,content:i})},clearMessage(){this.messages=[]}}})},4848:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=s(641),a=s(33);const c={class:"container article mt-5 pt-3"},n={class:"row justify-content-center"},l={class:"col-md-9"},o={class:"text-center mb-4"},r={class:"text-center mb-4"},h=["src"],g={class:"content mb-5"};function u(t,e,s,u,d,p){const L=(0,i.g2)("LoadingSpinner"),v=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(L,{active:t.isLoading},null,8,["active"]),(0,i.Lk)("div",c,[(0,i.Lk)("div",n,[(0,i.Lk)("div",l,[(0,i.Lk)("h2",o,(0,a.v_)(t.article.title),1),(0,i.Lk)("p",r,(0,a.v_)(t.$filters.date(t.article.create_at))+"‧ "+(0,a.v_)(t.article.author),1),(0,i.Lk)("img",{src:t.article.image,alt:"文章圖片",class:"w-100 object-fit-cover mb-4"},null,8,h),(0,i.Lk)("p",g,(0,a.v_)(t.article.content),1),(0,i.bF)(v,{to:"/articlesList"},{default:(0,i.k6)((()=>[(0,i.eW)("回到列表")])),_:1})])])])],64)}var d=s(5747),p=s(4445),L={computed:{...(0,p.aH)(d.A,["article","isLoading"])},methods:{...(0,p.i0)(d.A,["getArticle"])},created(){this.getArticle(this.$route.params.id)}},v=s(6262);const m=(0,v.A)(L,[["render",u]]);var f=m}}]);
//# sourceMappingURL=848.1f0d87a1.js.map