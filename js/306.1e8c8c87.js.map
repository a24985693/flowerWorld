{"version":3,"file":"js/306.1e8c8c87.js","mappings":"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","sources":["webpack://final-hw/./src/stores/cartStore.js","webpack://final-hw/./src/stores/favoriteStore.js","webpack://final-hw/./src/views/frontend/UserBoard.vue","webpack://final-hw/./src/components/frontend/UserNavbar.vue","webpack://final-hw/./src/components/frontend/UserNavbar.vue?7dd7","webpack://final-hw/./src/components/frontend/UserFooter.vue","webpack://final-hw/./src/components/frontend/UserFooter.vue?fbd2","webpack://final-hw/./src/views/frontend/UserBoard.vue?fd00"],"sourcesContent":["import { defineStore } from 'pinia';\nimport axios from 'axios';\nimport router from '@/router';\nimport Swal from 'sweetalert2';\nimport toastStore from './toastStore';\n\nconst toast = toastStore();\n\nexport default defineStore('cart', {\n  state: () => ({\n    cart: {},\n    cartLength: '',\n    couponWarning: '',\n    btnLoading: '',\n    isLoading: false,\n  }),\n  actions: {\n    // 取得購物車列表\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n\n      axios.get(url)\n        .then((res) => {\n          this.isLoading = false;\n          this.cart = res.data.data;\n          this.cartLength = this.cart.carts.length;\n        })\n        .catch(() => {\n          this.isLoading = false;\n          toast.pushMessage({\n            style: 'danger',\n            title: '購物車取得失敗',\n          });\n        });\n    },\n    // 修改購物車數量\n    updateCart(item, num) {\n      this.isLoading = true;\n      let quantity = num;\n      if (quantity > 20) { // 單品項超過20，數量就調整到20\n        quantity = 20;\n      } else if (quantity < 1) { // 單品項低於1，數量就調整到1\n        quantity = 1;\n      }\n\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      const cart = {\n        product_id: item.product_id,\n        qty: quantity,\n      };\n\n      axios.put(url, { data: cart })\n        .then(() => {\n          this.getCart();\n        })\n        .catch(() => {\n          toast.pushMessage({\n            style: 'danger',\n            title: '數量修改失敗',\n          });\n        });\n    },\n    // 加入購物車\n    addtoCart(item, quantity = 1) {\n      this.btnLoading = item.id;\n\n      // 判斷購物車是否已有存在的商品\n      let existingProduct;\n      if (!this.cart.carts) {\n        this.getCart();\n      } else {\n        // 已有存在購物車的品項\n        existingProduct = this.cart.carts.filter((i) => i.product_id === item.id);\n      }\n\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: item.id,\n        qty: quantity,\n      };\n\n      axios.post(url, { data: cart })\n        .then((res) => {\n          this.btnLoading = '';\n          const { title } = res.data.data.product;\n          // 品項數量超過20，updateCart調整品項數量為20\n          if (res.data.data.qty > 20) {\n            const messageTitle = '已加入到最大數量';\n            toast.pushMessage({\n              style: 'warning',\n              title: messageTitle,\n              content: `購物車內目前已有20件${title}`,\n            });\n            this.updateCart(existingProduct[0], 20);\n          } else {\n            const messageTitle = '加入成功';\n            toast.pushMessage({\n              style: 'success',\n              title: messageTitle,\n              content: `已將${title}加入購物車`,\n            });\n            this.getCart();\n          }\n        })\n        .catch(() => {\n          this.btnLoading = '';\n          toast.pushMessage({\n            style: 'danger',\n            title: '購物車加入失敗',\n          });\n        });\n    },\n    // 刪除單品項\n    deleteCartItem(item) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n\n      axios.delete(url)\n        .then(() => {\n          this.getCart();\n          const messageTitle = '已移除品項';\n          toast.pushMessage({\n            style: 'danger',\n            title: messageTitle,\n            content: `已將${item.product.title}移除`,\n          });\n        })\n        .catch(() => {\n          this.isLoading = false;\n          toast.pushMessage({\n            style: 'danger',\n            title: '購物車刪除失敗',\n          });\n        });\n    },\n    // 確認是否清空購物車\n    confirmDeleteAll() {\n      Swal.fire({\n        text: '確定要將清空購物車嗎',\n        icon: 'warning',\n        cancelButtonText: '取消',\n        confirmButtonText: '確定',\n        showCancelButton: true,\n      }).then((res) => {\n        if (res.isConfirmed) {\n          this.deleteAll();\n        }\n      });\n    },\n    // 清空購物車\n    deleteAll() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`;\n\n      axios.delete(url)\n        .then(() => {\n          this.getCart();\n          const messageTitle = '已移除全部品項';\n          toast.pushMessage({\n            style: 'danger',\n            title: messageTitle,\n            content: '已將全部品項移除',\n          });\n        })\n        .catch(() => {\n          this.isLoading = false;\n          toast.pushMessage({\n            style: 'danger',\n            title: '購物車刪除失敗',\n          });\n        });\n    },\n    // 加入優惠券\n    addCouponCode(couponCode) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const dataCode = { code: couponCode };\n\n      axios.post(url, { data: dataCode })\n        .then((res) => {\n          if (res.data.success) {\n            this.getCart();\n            this.couponWarning = '';\n          } else {\n            this.isLoading = false;\n            this.couponWarning = '找不到優惠券';\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          toast.pushMessage({\n            style: 'danger',\n            title: '優惠券加入失敗',\n          });\n        });\n    },\n    // 回上一頁\n    returnPage() {\n      router.go(-1);\n    },\n    // 回首頁\n    returnIndex() {\n      router.push('/index');\n    },\n    // 前往繼續購物\n    gotoShop() {\n      router.push('/productsList');\n    },\n  },\n});\n","import { defineStore } from 'pinia';\nimport Swal from 'sweetalert2';\nimport toastStore from './toastStore';\n\nconst toast = toastStore();\n\nexport default defineStore('favorite', {\n  state: () => ({\n    favorited: JSON.parse(localStorage.getItem('favorite')) || [],\n  }),\n  actions: {\n    // 移除單一收藏\n    delFav(product) {\n      const array = [];\n      this.favorited.forEach((item) => {\n        array.push(item.id);\n      });\n      this.favorited.splice(array.indexOf(product.id), 1);\n      localStorage.setItem('favorite', JSON.stringify(this.favorited));\n\n      const messageTitle = '已移除收藏';\n      toast.pushMessage({\n        style: 'danger',\n        title: messageTitle,\n        content: `已將${product.title}移除收藏`,\n      });\n    },\n    // 確認清除全部收藏\n    confirmClearAll() {\n      Swal.fire({\n        text: '確定要將清空收藏嗎',\n        icon: 'warning',\n        cancelButtonText: '取消',\n        confirmButtonText: '確定',\n        showCancelButton: true,\n      }).then((res) => {\n        if (res.isConfirmed) {\n          this.clearAllFav();\n        }\n      });\n    },\n    // 清除全部收藏\n    clearAllFav() {\n      this.favorited = [];\n      localStorage.setItem('favorite', JSON.stringify(this.favorited));\n\n      const messageTitle = '已移除收藏';\n      toast.pushMessage({\n        style: 'danger',\n        title: messageTitle,\n        content: '已將全部商品移除收藏',\n      });\n    },\n    // 加入收藏及移除收藏的切換\n    setFav(product) {\n      if (this.favorited.length) {\n        const array = [];\n        this.favorited.forEach((item) => {\n          array.push(item.id);\n        });\n        if (array.includes(product.id)) {\n          this.favorited.splice(array.indexOf(product.id), 1);\n        } else {\n          this.favorited.push(product);\n        }\n      } else {\n        this.favorited.push(product);\n      }\n      localStorage.setItem('favorite', JSON.stringify(this.favorited));\n    },\n    // 切換愛心狀態\n    favState(product) {\n      const array = [];\n      this.favorited.forEach((item) => {\n        array.push(item.id);\n      });\n\n      if (array.includes(product.id)) {\n        return 'fa-solid fa-heart';\n      }\n      return 'fa-regular fa-heart';\n    },\n  },\n});\n","<template>\n  <div class=\"view-height\" @click=\"toggleNav\" @keydown=\"toggleNav\">\n    <UserNavbar ref=\"UserNavbar\"/>\n    <div class=\"user-view\">\n      <router-view/>\n    </div>\n    <UserFooter/>\n    <ToastMessages/>\n  </div>\n</template>\n\n<script>\nimport UserNavbar from '@/components/frontend/UserNavbar.vue';\nimport UserFooter from '@/components/frontend/UserFooter.vue';\nimport ToastMessages from '@/components/ToastMessages.vue';\nimport toastStore from '@/stores/toastStore';\nimport { mapActions } from 'pinia';\n\nexport default {\n  components: {\n    UserNavbar,\n    UserFooter,\n    ToastMessages,\n  },\n  methods: {\n    toggleNav(e) {\n      if (e.target.dataset.name !== 'nav') {\n        this.$refs.UserNavbar.hideNav();\n      }\n    },\n    ...mapActions(toastStore, ['clearMessage']),\n  },\n  created() {\n    this.clearMessage();\n  },\n};\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-white fixed-top\n    border-bottom border-1 border-info nav-transition\"\n    :class=\"{ navAnimated: scrollNum}\"\n    data-name=\"nav\">\n    <div class=\"container\" data-name=\"nav\">\n      <router-link class=\"navbar-brand nav-item fw-semibold\" to=\"/\" data-name=\"nav\">\n        <img src=\"@/assets/images/logo.avif\" alt=\"logo\" width=\"30px\" height=\"30px\">\n          花花世界</router-link>\n      <button class=\"navbar-toggler border-0\" type=\"button\" data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\" ref=\"navToggleBtn\" data-name=\"nav\">\n        <span class=\"navbar-toggler-icon\" data-name=\"nav\"/>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav ms-auto\">\n          <li class=\"nav-item mx-1\">\n            <router-link class=\"nav-link\" to=\"/productsList\" data-name=\"nav\">\n              產品列表\n            </router-link>\n          </li>\n          <li class=\"nav-item mx-1\">\n            <router-link class=\"nav-link\" to=\"/articlesList\" data-name=\"nav\">\n              最新消息\n            </router-link>\n          </li>\n          <li class=\"nav-item mx-1\">\n            <router-link class=\"nav-link\" to=\"/inquire\" data-name=\"nav\">\n              訂單查詢\n            </router-link>\n          </li>\n          <li class=\"nav-item mx-1\">\n            <router-link class=\"nav-link position-relative\" data-name=\"nav\"\n              to=\"/favorite\">\n              <i class=\"fa-solid fa-heart fs-4\"/>\n              <span class=\"icon-num bg-secondary text-dark rounded-circle position-absolute\n                d-inline-block text-center fw-bold\"\n                v-if=\"favorited.length\">\n                {{ favorited.length }}\n              </span>\n            </router-link>\n          </li>\n          <li class=\"nav-item mx-1\">\n            <router-link class=\"nav-link position-relative\" data-name=\"nav\"\n              to=\"/cart\">\n              <i class=\"fa-solid fa-cart-shopping fs-4\"/>\n              <span class=\"icon-num bg-secondary text-dark rounded-circle position-absolute\n                d-inline-block text-center fw-bold\"\n                v-if=\"cartLength\">\n                {{ cartLength }}\n              </span>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport Collapse from 'bootstrap/js/dist/collapse';\nimport cartStore from '@/stores/cartStore';\nimport favoriteStore from '@/stores/favoriteStore';\nimport { mapState, mapActions } from 'pinia';\n\nexport default {\n  data() {\n    return {\n      scrollNum: '',\n      bsCollapse: {},\n    };\n  },\n  computed: {\n    ...mapState(cartStore, ['cartLength']),\n    ...mapState(favoriteStore, ['favorited']),\n\n  },\n  methods: {\n    ...mapActions(cartStore, ['getCart']),\n    animated() {\n      this.scrollNum = window.scrollY;\n    },\n    hideNav() {\n      this.bsCollapse.hide();\n    },\n  },\n  created() {\n    this.getCart();\n    window.addEventListener('scroll', this.animated);\n  },\n  mounted() {\n    const dataToggle = document.querySelectorAll('.nav-item');\n    const myCollapse = document.getElementById('navbarNav');\n    this.bsCollapse = new Collapse(myCollapse, {\n      toggle: false,\n    });\n    dataToggle.forEach((item) => {\n      item.addEventListener('click', () => {\n        this.bsCollapse.hide();\n      });\n    });\n  },\n};\n</script>\n","import { render } from \"./UserNavbar.vue?vue&type=template&id=570f16ab\"\nimport script from \"./UserNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./UserNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <footer class=\"bg-info\">\n    <div class=\"container py-5 text-white\">\n      <div class=\"row justify-content-between align-items-center g-3\">\n        <div class=\"col-12 col-md-6 d-flex flex-column\">\n          <ul class=\"list-unstyled\">\n            <li class=\"mb-2\">0960-999555</li>\n            <li class=\"mb-2\">huahuaworld@gamil.com</li>\n            <li>台中市南區花花路1號</li>\n          </ul>\n        </div>\n        <div class=\"col-12 col-md-6\">\n          <div class=\"row flex-column\">\n            <div class=\"col-12 fs-3 text-center text-md-end mb-3\">\n              <a @click.prevent=\"\" href=\"#\" class=\"link-light\">\n                <i class=\"bi bi-line mx-3\"/>\n                <span class=\"d-none\">1</span>\n              </a>\n              <a @click.prevent=\"\" href=\"#\" class=\"link-light\">\n                <i class=\"bi bi-facebook mx-3\"/>\n                <span class=\"d-none\">1</span>\n              </a>\n              <a @click.prevent=\"\" href=\"#\" class=\"link-light\">\n                <i class=\"bi bi-instagram mx-3\"/>\n                <span class=\"d-none\">1</span>\n              </a>\n            </div>\n            <div class=\"col-12\">\n              <div class=\"text-center text-md-end\">\n                ⓒ 2024 huahuaworld All rights reserved. 練習用無商業用途 |\n                <router-link to=\"/login\" class=\"link-light\">\n                  後台登入\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </footer>\n</template>\n","import { render } from \"./UserFooter.vue?vue&type=template&id=62e7455a\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserBoard.vue?vue&type=template&id=b8e1e7e4\"\nimport script from \"./UserBoard.vue?vue&type=script&lang=js\"\nexport * from \"./UserBoard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["toast","toastStore","defineStore","state","cart","cartLength","couponWarning","btnLoading","isLoading","actions","getCart","this","url","axios","get","then","res","data","carts","length","catch","pushMessage","style","title","updateCart","item","num","quantity","id","product_id","qty","put","addtoCart","existingProduct","filter","i","post","product","messageTitle","content","deleteCartItem","delete","confirmDeleteAll","Swal","text","icon","cancelButtonText","confirmButtonText","showCancelButton","isConfirmed","deleteAll","addCouponCode","couponCode","dataCode","code","success","returnPage","router","go","returnIndex","push","gotoShop","favorited","JSON","parse","localStorage","getItem","delFav","array","forEach","splice","indexOf","setItem","stringify","confirmClearAll","clearAllFav","setFav","includes","favState","class","_createElementBlock","onClick","_cache","args","$options","toggleNav","onKeydown","_createVNode","_component_UserNavbar","ref","_createElementVNode","_hoisted_1","_component_router_view","_component_UserFooter","_component_ToastMessages","src","_imports_0","alt","width","height","type","_hoisted_4","key","_normalizeClass","navAnimated","$data","scrollNum","_component_router_link","to","default","_withCtx","_hoisted_2","_createTextVNode","_","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_ctx","_hoisted_13","_toDisplayString","_createCommentVNode","_hoisted_14","_hoisted_15","_hoisted_16","bsCollapse","computed","mapState","cartStore","favoriteStore","methods","mapActions","animated","window","scrollY","hideNav","hide","created","addEventListener","mounted","dataToggle","document","querySelectorAll","myCollapse","getElementById","Collapse","toggle","__exports__","_withModifiers","href","_hoisted_17","_hoisted_18","script","components","UserNavbar","UserFooter","ToastMessages","e","target","dataset","name","$refs","clearMessage","render"],"sourceRoot":""}