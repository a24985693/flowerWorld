"use strict";(self["webpackChunkfinal_hw"]=self["webpackChunkfinal_hw"]||[]).push([[694],{5747:function(t,s,i){i(4114);var e=i(4445),o=i(1250),a=i(9325),r=i(9040);const d=(0,r.A)();s.A=(0,e.nY)("article",{state:()=>({pagination:{},article:{},articles:{},isLoading:!1}),actions:{getArticle(t){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/cms67/article/${t}`;o.A.get(s).then((t=>{this.isLoading=!1,this.article=t.data.article})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"文章取得失敗"})}))},getArticles(t=1){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/cms67/articles?page=${t}`;o.A.get(s).then((t=>{this.articles=t.data.articles,this.pagination=t.data.pagination,this.articles.forEach(((t,s)=>{this.getContent(t,s)}))})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"文章取得失敗"})}))},getContent(t,s){const i=`https://vue3-course-api.hexschool.io/api/cms67/article/${t.id}`;o.A.get(i).then((t=>{this.isLoading=!1,this.articles[s].content=t.data.article.content})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"文章取得失敗"})}))},gotoArticle(t){a.A.push(`/article/${t}`)}}})},5491:function(t,s,i){i(4114);var e=i(4445),o=i(8465),a=i.n(o),r=i(9040);const d=(0,r.A)();s.A=(0,e.nY)("favorite",{state:()=>({favorited:JSON.parse(localStorage.getItem("favorite"))||[]}),actions:{delFav(t){const s=[];this.favorited.forEach((t=>{s.push(t.id)})),this.favorited.splice(s.indexOf(t.id),1),localStorage.setItem("favorite",JSON.stringify(this.favorited));const i="已移除收藏";d.pushMessage({style:"danger",title:i,content:`已將${t.title}移除收藏`})},confirmClearAll(){a().fire({text:"確定要將清空收藏嗎",icon:"warning",cancelButtonText:"取消",confirmButtonText:"確定",showCancelButton:!0}).then((t=>{t.isConfirmed&&this.clearAllFav()}))},clearAllFav(){this.favorited=[],localStorage.setItem("favorite",JSON.stringify(this.favorited));const t="已移除收藏";d.pushMessage({style:"danger",title:t,content:"已將全部商品移除收藏"})},setFav(t){if(this.favorited.length){const s=[];this.favorited.forEach((t=>{s.push(t.id)})),s.includes(t.id)?this.favorited.splice(s.indexOf(t.id),1):this.favorited.push(t)}else this.favorited.push(t);localStorage.setItem("favorite",JSON.stringify(this.favorited))},favState(t){const s=[];return this.favorited.forEach((t=>{s.push(t.id)})),s.includes(t.id)?"fa-solid fa-heart":"fa-regular fa-heart"}}})},3864:function(t,s,i){i(4114);var e=i(4445),o=i(1250),a=i(9325),r=i(9040);const d=(0,r.A)();s.A=(0,e.nY)("product",{state:()=>({product:{},preferProducts:[],products:[],pagination:{},ProductsArr:[],renderProducts:[],newData:[],tempCategory:"",isLoading:!1}),actions:{getProduct(t){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/cms67/product/${t}`;o.A.get(s).then((t=>{this.isLoading=!1,this.product=t.data.product})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"商品取得失敗"})}))},getPreferProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/cms67/products";o.A.get(t).then((t=>{this.preferProducts=t.data.products})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"推薦商品取得失敗"})}))},getProducts(t=1){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/cms67/products?page=${t}`;o.A.get(s).then((s=>{this.products=s.data.products,this.pagination=s.data.pagination,this.pagination.category=this.tempCategory||"全部",this.products.forEach((t=>{this.ProductsArr.push(t)})),this.renderProducts=[...this.ProductsArr],this.renderCategory(t)})).catch((()=>{this.isLoading=!1,d.pushMessage({style:"danger",title:"商品取得失敗"})}))},renderCategory(t){t<this.pagination.total_pages?this.getProducts(t+1):(this.isLoading=!1,"全部"!==this.pagination.category&&(this.renderProducts=this.ProductsArr.filter((t=>t.category===this.pagination.category))),this.newData=[],this.renderProducts.forEach(((t,s)=>{s%10===0&&this.newData.push([]);const i=parseInt(s/10,10);this.newData[i].push(t)})),this.pagination.current_page=1,this.pagination.total_pages=this.newData.length,this.sortProducts=this.renderProducts,this.ProductsArr=[])},sort(t){"low"===t?this.renderProducts.sort(((t,s)=>t.price-s.price)):this.renderProducts.sort(((t,s)=>s.price-t.price)),this.ProductsArr=this.renderProducts,this.renderCategory()},updateCategory(t){this.tempCategory=t},gotoProduct(t){a.A.push(`/product/${t}`)},getPage(t){this.pagination.current_page=t,window.scrollTo(0,0)}}})},8222:function(t,s,i){i.d(s,{A:function(){return B}});var e=i(641),o=i(3751),a=i(33);const r={class:"prefer position-relative"},d={class:"overflow-hidden px-3",style:{width:"calc()"}},c={class:"row flex-nowrap prefer-carousel gx-4 mb-4",ref:"carousel"},l=["onClick","onKeydown"],n={class:"overflow-hidden position-relative"},u=(0,e.Lk)("div",{class:"more-text"}," 查看更多 ",-1),v={class:"ratio ratio-1x1"},h=["src"],p={class:"card-body"},g={class:"row"},f={class:"col-9 text-start"},k={class:"card-title"},L={class:"col-3 text-end"},b=["onClick","onKeydown"],x={class:"d-flex align-items-center"},y={key:0,class:"price me-2"},m={key:1,class:"price"},w={key:2,class:"text-muted"},A=["disabled"],P=(0,e.Lk)("i",{class:"fa-solid fa-caret-left"},null,-1),C=[P],$=["disabled"],F=(0,e.Lk)("i",{class:"fa-solid fa-caret-right"},null,-1),_=[F];function E(t,s,i,P,F,E){return(0,e.uX)(),(0,e.CE)("div",r,[(0,e.Lk)("div",d,[(0,e.Lk)("div",c,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(t.preferProducts,(s=>((0,e.uX)(),(0,e.CE)("div",{key:s.id,class:"col-12 col-sm-6 col-md-4 col-lg-3",ref_for:!0,ref:"preferProduct"},[(0,e.Lk)("div",{class:"card product-card h-100 mx-auto",onClick:(0,o.D$)((i=>t.gotoProduct(s.id)),["stop"]),onKeydown:(0,o.D$)((i=>t.gotoProduct(s.id)),["stop"])},[(0,e.Lk)("div",n,[u,(0,e.Lk)("div",v,[(0,e.Lk)("img",{src:s.imageUrl,class:"card-img-top object-fit-cover w-100",alt:"圖片"},null,8,h)])]),(0,e.Lk)("div",p,[(0,e.Lk)("div",g,[(0,e.Lk)("div",f,[(0,e.Lk)("h5",k,(0,a.v_)(s.title),1)]),(0,e.Lk)("div",L,[(0,e.Lk)("div",{class:"heart",onClick:(0,o.D$)((i=>t.setFav(s)),["stop"]),onKeydown:(0,o.D$)((i=>t.setFav(s)),["stop"])},[(0,e.Lk)("i",{class:(0,a.C4)(t.favState(s))},null,2)],40,b)])]),(0,e.Lk)("div",x,[s.price?((0,e.uX)(),(0,e.CE)("p",y," NT$"+(0,a.v_)(t.$filters.currency(s.price)),1)):((0,e.uX)(),(0,e.CE)("p",m," NT$"+(0,a.v_)(t.$filters.currency(s.origin_price)),1)),s.origin_price!=s.price?((0,e.uX)(),(0,e.CE)("del",w," NT$"+(0,a.v_)(t.$filters.currency(s.origin_price)),1)):(0,e.Q3)("",!0)])])],40,l)])))),128))],512)]),(0,e.Lk)("div",null,[(0,e.Lk)("button",{class:"btn-pre btn border border-2 border-info me-1 position-absolute top-50 start-0",type:"button",onClick:s[0]||(s[0]=t=>E.goSlide("pre")),disabled:F.position<=0},C,8,A),(0,e.Lk)("button",{class:"btn-next btn border border-2 border-info ms-1 position-absolute top-50 end-0",type:"button",onClick:s[1]||(s[1]=t=>E.goSlide("next")),disabled:F.position+F.showNum>=F.totalNum},_,8,$)])])}var N=i(3864),S=i(5491),X=i(4445),D={data(){return{position:0,totalNum:1,showNum:0}},computed:{...(0,X.aH)(N.A,["preferProducts"])},methods:{...(0,X.i0)(N.A,["getPreferProducts","gotoProduct"]),...(0,X.i0)(S.A,["setFav","favState"]),goSlide(t){const s=this.$refs.preferProduct[0].offsetWidth;this.totalNum=this.$refs.preferProduct.length;const{carousel:i}=this.$refs,e=i.offsetWidth;this.showNum=e/s,i.style.transition="transform 500ms","pre"===t&&this.position>0?(this.position-=1,i.style.transform=`translateX(-${this.position*s}px`):"next"===t&&this.position+this.showNum<this.totalNum&&(this.position+=1,i.style.transform=`translateX(-${this.position*s}px`)}},created(){this.getPreferProducts()}},K=i(6262);const M=(0,K.A)(D,[["render",E]]);var B=M},4694:function(t,s,i){i.r(s),i.d(s,{default:function(){return O}});var e=i(641),o=i(33);const a=(0,e.Fv)('<header class="header position-relative vh-100"><div class="blink-star position-relative h-100 w-100"><div class="star-1 position-absolute" style="top:25%;left:40%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div><div class="star-1 position-absolute" style="top:40%;left:70%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div><div class="star-2 position-absolute" style="top:15%;left:50%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div><div class="star-2 position-absolute" style="top:45%;left:20%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div><div class="star-3 position-absolute" style="top:30%;left:85%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div><div class="star-3 position-absolute" style="top:10%;left:15%;"><div class="d-flex"><div class="box-1"></div><div class="box-2"></div></div><div class="d-flex"><div class="box-3"></div><div class="box-4"></div></div></div></div><div class="header-text position-absolute text-center text-sm-start"><h1 class="header-slogan fs-2 fw-bold mb-3 text-info"> 在花花世界<br>尋找屬於您的花 </h1><p class="fs-5 mb-4 text-gray d-none d-md-flex">為您的生活增添色彩</p></div></header>',1),r={class:"category container my-5 py-5"},d={class:"row text-center g-2"},c={class:"col-12 col-md-7"},l={class:"row g-2"},n={class:"col-12"},u={class:"category-bridalBouquet","data-aos":"fade-up","data-aos-duration":"1100"},v=(0,e.Lk)("div",{class:"category-title"},[(0,e.Lk)("h3",null,"捧花"),(0,e.Lk)("p",null,"Bridal Bouquet")],-1),h={class:"col-12 col-md-6"},p={class:"category-bouquet","data-aos":"zoom-in","data-aos-duration":"1000"},g=(0,e.Lk)("div",{class:"category-title"},[(0,e.Lk)("h3",null,"花束"),(0,e.Lk)("p",null,"Bouquet")],-1),f={class:"col-12 col-md-6"},k={class:"category-vase","data-aos":"zoom-in","data-aos-duration":"1000","data-aos-delay":"300"},L=(0,e.Lk)("div",{class:"category-title"},[(0,e.Lk)("h3",null,"花瓶"),(0,e.Lk)("p",null,"Vase")],-1),b={class:"col-12 col-md-5"},x={class:"category-driedFlower","data-aos":"fade-up","data-aos-duration":"1000","data-aos-delay":"200"},y=(0,e.Lk)("div",{class:"category-title"},[(0,e.Lk)("h3",null,"乾燥花"),(0,e.Lk)("p",null,"Dried Flowers")],-1),m={class:"news"},w={class:"container py-5"},A={class:"row align-items-center g-4"},P=(0,e.Lk)("div",{class:"col-md-3 text-center"},[(0,e.Lk)("h2",{class:"title-border-bottom"},"最新消息")],-1),C={class:"col-md-9"},$={class:"my-md-5"},F=["onClick","onKeydown"],_={class:"news-link cursor-pointer"},E={class:"container mt-5 py-5 text-center"},N=(0,e.Lk)("h2",{class:"title-border-bottom mb-5"}," 熱門商品 ",-1);function S(t,s,i,S,X,D){const K=(0,e.g2)("LoadingSpinner"),M=(0,e.g2)("router-link"),B=(0,e.g2)("PreferProduts");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(K,{active:t.isLoading},null,8,["active"]),a,(0,e.Lk)("section",r,[(0,e.Lk)("div",d,[(0,e.Lk)("div",c,[(0,e.Lk)("div",l,[(0,e.Lk)("div",n,[(0,e.Lk)("div",u,[v,(0,e.bF)(M,{to:"/productsList?category=捧花",class:"stretched-link"})])]),(0,e.Lk)("div",h,[(0,e.Lk)("div",p,[g,(0,e.bF)(M,{to:"/productsList?category=花束",class:"stretched-link"})])]),(0,e.Lk)("div",f,[(0,e.Lk)("div",k,[L,(0,e.bF)(M,{to:"/productsList?category=花瓶",class:"stretched-link"})])])])]),(0,e.Lk)("div",b,[(0,e.Lk)("div",x,[y,(0,e.bF)(M,{to:"/productsList?category=乾燥花",class:"stretched-link"})])])])]),(0,e.Lk)("section",m,[(0,e.Lk)("div",w,[(0,e.Lk)("div",A,[P,(0,e.Lk)("div",C,[(0,e.Lk)("ul",$,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(t.articles,(s=>((0,e.uX)(),(0,e.CE)("li",{key:s.id,class:"fw-semibold mb-4"},[(0,e.Lk)("div",{class:"d-flex flex-nowrap",onClick:i=>t.gotoArticle(s.id),onKeydown:i=>t.gotoArticle(s.id)},[(0,e.Lk)("span",_,(0,o.v_)(s.tag)+" | "+(0,o.v_)(s.title),1)],40,F)])))),128))])])])])]),(0,e.Lk)("section",E,[N,(0,e.bF)(B)])],64)}var X=i(8222),D=i(5747),K=i(4445),M={components:{PreferProduts:X.A},data(){return{swiper:{}}},computed:{...(0,K.aH)(D.A,["articles","isLoading"])},methods:{...(0,K.i0)(D.A,["getArticles","gotoArticle"])},created(){this.getArticles()}},B=i(6262);const I=(0,B.A)(M,[["render",S]]);var O=I}}]);
//# sourceMappingURL=694.80ff67ad.js.map